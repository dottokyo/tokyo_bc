<!doctype html>
<html lang="ru">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="color-scheme" content="dark only">
  <meta name="description" content="aboutme">
  <title>$ echo tokyo</title>
  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href='data:image/svg+xml;utf8,
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 64 64">
      <rect width="64" height="64" rx="14" fill="%23000"/>
      <path d="M20 22l-8 10 8 10" stroke="%23fff" stroke-width="5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <path d="M44 22l8 10-8 10" stroke="%23fff" stroke-width="5" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
      <rect x="28" y="20" width="8" height="24" rx="3" fill="%23fff"/>
    </svg>' />
  <style>
    :root{
      --bg:#000;      /* глубокий чёрный */
      --text:#e8e8e8; /* основной текст */
      --muted:#a8a8a8;/* вторичный текст */
      --line:#1a1a1a; /* тонкие границы */
      --card:#0a0a0a; /* элементы */
      --accent:#8ab4ff; /* для мягких градиентов в тексте */
      --accent2:#b388ff;
      --radius:16px;
      --shadow:0 1px 0 rgba(255,255,255,.03), 0 0 0 1px rgba(255,255,255,.04) inset;
    }
    *,*::before,*::after{box-sizing:border-box}
    html,body{height:100%}
    /* Без прокрутки */
    html{overflow:hidden}
    body{
      margin:0; color:var(--text); background:var(--bg);
      font:16px/1.6 ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial, "Noto Sans";
      -webkit-font-smoothing:antialiased; text-rendering:optimizeLegibility;
      height:100dvh; overflow:hidden; display:grid; place-items:center; padding:0;
      /* Виньетка + деликатная сетка как текстура */
      background-image:
        radial-gradient(60% 80% at 0% 0%, rgba(255,255,255,.06) 0%, rgba(255,255,255,.02) 18%, rgba(255,255,255,0) 40%),
        radial-gradient(70% 90% at 100% 100%, rgba(255,255,255,.05) 0%, rgba(255,255,255,.015) 20%, rgba(255,255,255,0) 42%),
        linear-gradient(transparent, transparent),
        linear-gradient(
          to right,
          rgba(255,255,255,.02) 0,
          rgba(255,255,255,.02) 1px,
          transparent 1px,
          transparent 24px
        ),
        linear-gradient(
          to bottom,
          rgba(255,255,255,.02) 0,
          rgba(255,255,255,.02) 1px,
          transparent 1px,
          transparent 24px
        );
      background-size:auto, auto, auto, 25px 25px, 25px 25px;
      background-position:center;
      background-blend-mode: screen, screen, normal, normal, normal;
    }

    .wrap{width:min(760px,100vw); height:min(560px,100dvh); display:grid; grid-template-rows:auto 1px auto auto auto; gap:16px; padding:24px 20px; position:relative}

    /* Переключатель языка */
    .lang{position:absolute; top:16px; right:16px; display:inline-flex; border:1px solid var(--line); border-radius:999px; background:var(--card); box-shadow:var(--shadow); overflow:hidden}
    .lang button{appearance:none; border:0; background:transparent; color:var(--text); padding:8px 12px; font-size:13px; cursor:pointer; opacity:.8; transition:opacity .2s, background .2s}
    .lang button[aria-pressed="true"]{opacity:1; background:#0f0f0f}
    .lang button:focus-visible{outline:2px solid #e5e7eb; outline-offset:2px}

    header{align-self:end}
    .name{font-weight:900; letter-spacing:.2px; font-size:clamp(24px,4.8vw,42px); line-height:1.15; opacity:0; animation:fadeUp .5s both .02s;
      /* Градиентный текст, но сдержанный */
      background: linear-gradient(92deg, #fff 0%, var(--accent) 45%, var(--accent2) 100%);
      -webkit-background-clip:text; background-clip:text; color:transparent;
    }
    .role{color:#cfcfcf; margin-top:6px; font-size:clamp(14px,2.2vw,18px); opacity:0; animation:fadeUp .5s both .08s}

    .hr{height:1px; background:linear-gradient(90deg,transparent,#1f1f1f,transparent); opacity:0; animation:revealLine .6s cubic-bezier(.2,.6,.2,1) both .12s}

    .summary{color:#dcdcdc; max-width:68ch; opacity:0; animation:fadeUp .5s both .16s}

    .stack{display:flex; flex-wrap:wrap; gap:8px; margin-top:6px}
    .chip{border:1px solid var(--line); padding:6px 10px; border-radius:999px; font-size:13px; color:#d4d4d4; background:var(--card); box-shadow:var(--shadow); opacity:0; transform:translateY(6px); animation:chipIn .4s both}
    .stack .chip:nth-child(1){animation-delay:.2s}
    .stack .chip:nth-child(2){animation-delay:.26s}
    .stack .chip:nth-child(3){animation-delay:.32s}

    .links{display:flex; gap:12px; margin-top:14px; flex-wrap:wrap}
    .btn{position:relative; display:inline-flex; align-items:center; gap:10px; text-decoration:none; border:1px solid var(--line); padding:10px 14px; border-radius:12px; background:var(--card); box-shadow:var(--shadow); color:var(--text); transition:transform .2s ease,border-color .2s ease,background .2s ease; overflow:hidden}
    .btn:hover{transform:translateY(-1px); border-color:#2a2a2a; background:#0d0d0d}
    .btn:active{transform:translateY(0)}
    .btn svg{width:18px; height:18px; opacity:.9}
    .btn .fill{position:absolute; inset:0; background:radial-gradient(120px 80px at var(--mx,50%) var(--my,50%), rgba(255,255,255,.06), transparent 60%); opacity:0; transition:opacity .25s}
    .btn:hover .fill{opacity:1}
    .btn:focus-visible{outline:2px solid #e5e7eb; outline-offset:2px}

    footer{align-self:start; color:#8a8a8a; font-size:12px}

    /* ===== Fancy Modal (DIV + blur) ===== */
    .overlay {
    position: fixed;
    inset: 0;
    display: flex;             /* всегда flex, не none */
    align-items: center;
    justify-content: center;
    background: rgba(0,0,0,0);
    backdrop-filter: blur(0px);
    -webkit-backdrop-filter: blur(0px);
    opacity: 0;
    pointer-events: none;
    transition: opacity .3s ease, background .3s ease, backdrop-filter .3s ease;
    }
    .overlay.show {
    opacity: 1;
    pointer-events: auto;
    background: rgba(0,0,0,.55);
    backdrop-filter: blur(12px);
    -webkit-backdrop-filter: blur(12px);
    }

    .modal {
    transform: translateY(20px) scale(.95);
    opacity: 0;
    transition: transform .35s cubic-bezier(.2,.6,.2,1), opacity .35s ease;

    position: relative;       /* нужно для ::before */
    border-radius: 16px;      /* тот же радиус, что и у рамки */
    background: #0b0b0b; 

    padding: 20px;            /* <-- добавь отступы внутрь модалки */
    box-sizing: border-box;   /* чтобы padding не ломал ширину */
    }
    .overlay.show .modal {
    transform: translateY(0) scale(1);
    opacity: 1;
    }
    /* декоративная рамка с конусным градиентом */
    .modal::before{content:""; position:absolute; inset:0; border-radius:inherit; padding:1px; background:conic-gradient(from 180deg, rgba(138,180,255,.15), rgba(179,136,255,.15), rgba(138,180,255,.15)); -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite: xor; mask-composite: exclude; pointer-events:none;}

    .modal-header{display:flex; align-items:center; justify-content:space-between; gap:8px; margin-bottom:8px}
    .modal-title{font-weight:700; font-size:18px; background:linear-gradient(92deg,#fff, var(--accent)); -webkit-background-clip:text; background-clip:text; color:transparent}
    .modal-body{max-height:70vh; overflow:auto; padding-right:6px}
    .project{padding:12px; border:1px solid var(--line); border-radius:12px; background:#0f0f0f; margin-bottom:10px}
    .project .p-title{font-weight:600}
    .project .p-meta{color:var(--muted); font-size:14px; margin-top:4px}
    .modal-actions{display:flex; justify-content:flex-end; gap:8px; margin-top:6px}
    .icon-btn{appearance:none; border:1px solid var(--line); background:#0d0d0d; color:var(--text); border-radius:10px; padding:8px 12px; cursor:pointer}
    .icon-btn:hover{background:#111}

    @keyframes fadeUp{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}
    @keyframes revealLine{from{opacity:0; transform:scaleX(.6)} to{opacity:1; transform:scaleX(1)}}
    @keyframes chipIn{from{opacity:0; transform:translateY(8px)} to{opacity:1; transform:translateY(0)}}

    @media (max-width:380px){
      .wrap{padding:20px 14px; height:min(540px,100dvh)}
      .links{gap:10px}
      .btn{padding:8px 12px}
    }
    @media (prefers-reduced-motion: reduce){
      *{animation:none!important; transition:none!important}
      .btn .fill{display:none}
    }
  </style>
</head>
<body>
  <main class="wrap" data-lang="ru">
    <div class="lang" role="group" aria-label="Language switch">
      <button type="button" id="btn-ru" aria-pressed="true">RU</button>
      <button type="button" id="btn-en" aria-pressed="false">EN</button>
    </div>

    <header>
      <h1 class="name" data-i18n="name">tokyo</h1>
      <p class="role" data-i18n="role">junior backend dev</p>
    </header>

    <div class="hr" aria-hidden="true"></div>

    <section aria-label="about me" class="summary">
      <p data-i18n="summary">.txt</p>
      <div class="stack" aria-label="stack">
        <span class="chip" data-i18n="chip1">Python</span>
        <span class="chip" data-i18n="chip2">Rust</span>
        <span class="chip" data-i18n="chip3">Solana</span>
      </div>
      <div class="links">
        <a class="btn" href="mailto:envelopeaddiction@gmail.com" aria-label="email me">
          <span class="fill" aria-hidden="true"></span>
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M3 7l9 6 9-6" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/><rect x="3" y="5" width="18" height="14" rx="2" ry="2" stroke="currentColor" stroke-width="1.5" fill="none"/></svg>
          <span data-i18n="email">email</span>
        </a>
        <a class="btn" href="https://github.com/dottokyo" target="_blank" rel="noreferrer" aria-label="go to github">
          <span class="fill" aria-hidden="true"></span>
          <svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M12 2C6.48 2 2 6.58 2 12.2c0 4.5 2.87 8.3 6.84 9.64.5.1.68-.22.68-.48v-1.86c-2.78.62-3.37-1.37-3.37-1.37-.45-1.18-1.1-1.5-1.1-1.5-.9-.64.07-.63.07-.63 1 .07 1.53 1.06 1.53 1.06.9 1.58 2.37 1.12 2.95.85.09-.67.35-1.12.64-1.38-2.22-.26-4.56-1.15-4.56-5.1 0-1.13.39-2.05 1.03-2.77-.1-.27-.45-1.36.1-2.83 0 0 .85-.28 2.8 1.06.81-.23 1.67-.35 2.53-.35.86 0 1.72.12 2.53.35 1.95-1.35 2.8-1.06 2.8-1.06.55 1.47.2 2.56.1 2.83.64.72 1.03 1.64 1.03 2.77 0 3.96-2.34 4.83-4.58 5.09.36.32.68.95.68 1.92v2.85c0 .27.18.59.69.48A10.21 10.21 0 0 0 22 12.2C22 6.58 17.52 2 12 2Z" fill="currentColor"/></svg>
          <span>github</span>
        </a>
        <a class="btn" href="https://t.me/xwqefwexqxzdxfgsdfg" target="_blank" rel="noreferrer" aria-label="go to telegram">
          <span class="fill" aria-hidden="true"></span>
          <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" aria-hidden="true"><path d="M9.036 15.448l-.373 5.262a1 1 0 0 0 1.64.86l3.02-2.29 4.893 3.68c.68.51 1.66.13 1.86-.7l3.89-15.55a1.2 1.2 0 0 0-1.65-1.38L2.09 11.1c-.96 .34-.89 1.74.1 1.96l5.62 1.27 12.3-7.77-11.07 8.89z" fill="currentColor"/></svg>
          <span data-i18n="telegram">telegram</span>
        </a>

        <button class="btn" class="fill" id="openProjects"  type="button" data-i18n="projectsBtn">проекты</button>
        </a>
      </div>
    </section>

    <footer>
      © <span id="y"></span> <span data-i18n="footerName">tokyo</span>
    </footer>
  </main>

  <!-- Fancy Modal (DIV-based) -->
  <div class="overlay" id="projectsOverlay" aria-hidden="true">
    <div class="modal" role="dialog" aria-modal="true" aria-labelledby="projectsTitle">
      <div class="modal-header">
        <div class="modal-title" id="projectsTitle" data-i18n="projectsTitle">проекты</div>
        <button class="icon-btn" id="closeProjects" aria-label="Close">✕</button>
      </div>
      <div class="modal-body">
        <article class="project">
          <div class="p-title" data-i18n="p1Title">none</div>
          <div class="p-meta" data-i18n="p1Meta">none</div>
        </article>
        <article class="project">
          <div class="p-title" data-i18n="p2Title">none</div>
          <div class="p-meta" data-i18n="p2Meta">none</div>
        </article>
      </div>
      <div class="modal-actions">
        <a class="btn" href="https://github.com/dottokyo" target="_blank" rel="noreferrer"><span class="fill" aria-hidden="true"></span><span data-i18n="viewGithub">открыть GitHub</span></a>
        <button class="icon-btn" id="closeProjects2" data-i18n="close">закрыть</button>
      </div>
    </div>
  </div>

  <script>
    // Подсветка курсора в кнопках
    for (const b of document.querySelectorAll('.btn')){
      b.addEventListener('pointermove', (e)=>{
        const r = b.getBoundingClientRect();
        b.style.setProperty('--mx', (e.clientX - r.left) + 'px');
        b.style.setProperty('--my', (e.clientY - r.top) + 'px');
      });
    }
    // Год
    document.getElementById('y').textContent = new Date().getFullYear();

    // I18N
    const i18n = {
      ru: {
        name: 'tokyo',
        role: 'junior backend разработчик',
        summary: 'учусь автоматизировать веб3 задачи и делать ботов с помощью rust и python',
        chip1: 'Python', chip2: 'Rust', chip3: 'PostgreSQL',
        email: 'email', telegram: 'telegram', footerName: 'tokyo',
        projectsBtn: 'проекты', projectsTitle:'проекты',
        p1Title:'none', p1Meta:'none',
        p2Title:'none', p2Meta:'none',
        viewGithub:'открыть github', close:'закрыть'
      },
      en: {
        name: 'tokyo',
        role: 'junior backend developer',
        summary: 'learning how to automatize web3 tasks and make bots using rust and python',
        chip1: 'Python', chip2: 'Rust', chip3: 'PostgreSQL',
        email: 'email', telegram: 'telegram', footerName: 'tokyo',
        projectsBtn: 'projects', projectsTitle:'projects',
        p1Title:'none', p1Meta:'none',
        p2Title:'none', p2Meta:'none',
        viewGithub:'open github', close:'close'
      }
    };

    const root = document.querySelector('main.wrap');
    const ruBtn = document.getElementById('btn-ru');
    const enBtn = document.getElementById('btn-en');
    const setLang = (lang) => {
      root.dataset.lang = lang;
      document.documentElement.lang = lang === 'ru' ? 'ru' : 'en';
      const dict = i18n[lang];
      document.querySelectorAll('[data-i18n]').forEach(el => {
        const key = el.getAttribute('data-i18n');
        if (dict[key] !== undefined) el.textContent = dict[key];
      });
      ruBtn.setAttribute('aria-pressed', String(lang==='ru'));
      enBtn.setAttribute('aria-pressed', String(lang==='en'));
      localStorage.setItem('lang', lang);
    };
    ruBtn.addEventListener('click', ()=>setLang('ru'));
    enBtn.addEventListener('click', ()=>setLang('en'));
    const preferred = localStorage.getItem('lang') || ((navigator.language||'ru').startsWith('ru') ? 'ru' : 'en');
    setLang(preferred);

    // ===== Modal controls (DIV-based + blur) =====
    const overlay = document.getElementById('projectsOverlay');
    const openBtn = document.getElementById('openProjects');
    const closeBtn = document.getElementById('closeProjects');
    const closeBtn2 = document.getElementById('closeProjects2');
    const dialogEl = overlay.querySelector('.modal');

    const getFocusable = (root) => root.querySelectorAll('a[href], button:not([disabled]), [tabindex]:not([tabindex="-1"])');

    function openModal(){
      overlay.classList.add('show');
      overlay.setAttribute('aria-hidden','false');
      // фокус на первый фокусируемый элемент
      const f = getFocusable(dialogEl);
      (f[0]||dialogEl).focus({preventScroll:true});
      document.addEventListener('keydown', onKey);
      // trap focus
      dialogEl.addEventListener('keydown', onTrap);
    }
    function closeModal(){
      overlay.classList.remove('show');
      overlay.setAttribute('aria-hidden','true');
      openBtn.focus({preventScroll:true});
      document.removeEventListener('keydown', onKey);
      dialogEl.removeEventListener('keydown', onTrap);
    }
    function onKey(e){ if(e.key==='Escape'){ e.preventDefault(); closeModal(); } }
    function onTrap(e){
      if(e.key!=='Tab') return;
      const f = Array.from(getFocusable(dialogEl));
      if(!f.length) return;
      const first=f[0], last=f[f.length-1];
      if(e.shiftKey && document.activeElement===first){ e.preventDefault(); last.focus(); }
      else if(!e.shiftKey && document.activeElement===last){ e.preventDefault(); first.focus(); }
    }

    openBtn.addEventListener('click', openModal);
    closeBtn.addEventListener('click', closeModal);
    closeBtn2.addEventListener('click', closeModal);
    overlay.addEventListener('mousedown', (e)=>{ if(e.target===overlay) closeModal(); });
  </script>
</body>
</html>